import{_ as m,r as u,o as i,c as r,b as l,a as e,w as g,t as s,i as n,F as b,d as v}from"./index-Bm-XFVvy.js";const f={data(){return{product:{},id:""}},methods:{getProduct(){const c=`https://ec-course-api.hexschool.io/api/kk0414/product/${this.id}`;this.isLoading=!0,this.$http.get(c).then(o=>{console.log(o.data),this.isLoading=!1,o.data.success&&(this.product=o.data.product)})},addToCart(c,o=1){const d="https://ec-course-api.hexschool.io/api/kk0414/cart",a={product_id:c,qty:o};this.isLoading=!0,this.$http.post(d,{data:a}).then(t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart")})}},created(){this.id=this.$route.params.productId,this.getProduct()}},k={class:"container"},L={"aria-label":"breadcrumb"},x={class:"breadcrumb"},y={class:"breadcrumb-item"},C={class:"breadcrumb-item active","aria-current":"page"},V={class:"row justify-content-center"},w={class:"col-8"},N=["src"],B={class:"col-4"},P={key:0,class:"h5"},T={key:1,class:"h6"},F={key:2,class:"h5"},S=e("hr",null,null,-1);function U(c,o,d,a,t,p){const h=u("LoadingView"),_=u("router-link");return i(),r(b,null,[l(h,{active:c.isLoading},null,8,["active"]),e("div",k,[e("nav",L,[e("ol",x,[e("li",y,[l(_,{to:"/user/cart"},{default:g(()=>[v("購物車")]),_:1})]),e("li",C,s(t.product.title),1)])]),e("div",V,[e("article",w,[e("h2",null,s(t.product.title),1),e("div",null,s(t.product.content),1),e("div",null,s(t.product.description),1),e("img",{src:t.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,N)]),e("div",B,[t.product.price?n("",!0):(i(),r("div",P,s(t.product.origin_price)+" 元",1)),t.product.price?(i(),r("del",T,"原價 "+s(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(i(),r("div",F,"現在只要 "+s(t.product.price)+" 元",1)):n("",!0),S,e("button",{type:"button",class:"btn btn-outline-danger",onClick:o[0]||(o[0]=$=>p.addToCart(t.product.id))}," 加到購物車 ")])])])],64)}const D=m(f,[["render",U]]);export{D as default};
