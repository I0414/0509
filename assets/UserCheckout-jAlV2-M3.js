import{_ as u,r as h,o as l,c as n,b as _,a as t,e as p,F as i,h as f,t as s,i as g}from"./index-KMB6yDUn.js";const m={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const d=`https://ec-course-api.hexschool.io/api/kk0414/order/${this.orderId}`;this.$http.get(d).then(o=>{o.data.success&&(this.order=o.data.order,console.log(this.order))})},payOrder(){const d=`https://ec-course-api.hexschool.io/api/kk0414/pay/${this.orderId}`;this.$http.post(d).then(o=>{console.log(o),o.data.success&&this.getOrder()})}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},y={class:"my-5 row justify-content-center"},b={class:"table align-middle"},k=t("thead",null,[t("th",null,"品名"),t("th",null,"數量"),t("th",null,"單價")],-1),x={class:"text-end"},v=t("td",{colspan:"2",class:"text-end"},"總計",-1),I={class:"text-end"},O={class:"table"},w=t("th",{width:"100"},"Email",-1),L=t("th",null,"姓名",-1),V=t("th",null,"收件人電話",-1),B=t("th",null,"收件人地址",-1),C=t("th",null,"付款狀態",-1),N={key:0},E={key:1,class:"text-success"},F={key:0,class:"text-end"},S=t("button",{class:"btn btn-danger"},"確認付款去",-1),$=[S];function j(d,o,q,D,e,c){const a=h("LoadingView");return l(),n(i,null,[_(a,{active:e.isLoading},null,8,["active"]),t("div",y,[t("form",{class:"col-md-6",onSubmit:o[0]||(o[0]=p((...r)=>c.payOrder&&c.payOrder(...r),["prevent"]))},[t("table",b,[k,t("tbody",null,[(l(!0),n(i,null,f(e.order.products,r=>(l(),n("tr",{key:r.id},[t("td",null,s(r.product.title),1),t("td",null,s(r.qty)+"/"+s(r.product.unit),1),t("td",x,s(r.final_total),1)]))),128))]),t("tfoot",null,[t("tr",null,[v,t("td",I,s(e.order.total),1)])])]),t("table",O,[t("tbody",null,[t("tr",null,[w,t("td",null,s(e.order.user.email),1)]),t("tr",null,[L,t("td",null,s(e.order.user.name),1)]),t("tr",null,[V,t("td",null,s(e.order.user.tel),1)]),t("tr",null,[B,t("td",null,s(e.order.user.address),1)]),t("tr",null,[C,t("td",null,[e.order.is_paid?(l(),n("span",E,"付款完成")):(l(),n("span",N,"尚未付款"))])])])]),e.order.is_paid===!1?(l(),n("div",F,$)):g("",!0)],32)])],64)}const U=u(m,[["render",j]]);export{U as default};
